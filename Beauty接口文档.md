# Beauty接口文档

|          功能          |                 请求名称                 | 请求类型 |                           请求参数                           |                           返回结果                           |
| :--------------------: | :--------------------------------------: | :------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|          登录          |               /user/login                |   POST   |                       phone，password                        | {<br/>	"code": 200,<br/>	"data": "Bearer  xxx",<br/>	"msg": "登录成功",<br/>	"status": "success"<br/>} |
|          注册          |              /user/register              |   POST   |                        phone,password                        | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "注册成功",<br/>	"status": "success"<br/>} |
|        忘记密码        |           /user/forgetPassword           |   POST   |                        phone,password                        | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "修改密码成功",<br/>	"status": "success"<br/>} |
|        注销账号        |               /user/logout               | POST/PUT |                    请求头中需要携带token                     | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "注销账号成功",<br/>	"status": "success"<br/>} |
|      获取个人信息      |            /user/getUserInfo             |   GET    |                    请求头中需要携带token                     | {<br/>	"code": 200,<br/>	"data": {<br/>		"avatar": "/image/default_avatar.png",<br/>		"id": 1,<br/>		"permissions": 0,<br/>		"phone": "15715815825",<br/>		"username": "美妆新秀"<br/>	},<br/>	"msg": "获取用户数据成功",<br/>	"status": "success"<br/>} |
|        修改头像        |          /user/changeUserAvatar          |   POST   |                 请求头中需要携带token,files                  | {<br/>	"code": 200,<br/>	"data": "/image/1/20241111_102349.jpg",<br/>	"msg": "修改头像成功",<br/>	"status": "success"<br/>} |
|        修改昵称        |           /user/changeUsername           |   POST   |                请求头中需要携带token,username                | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "修改昵称成功",<br/>	"status": "success"<br/>} |
| 获取指定类型的美妆产品 |             /product/<type>              |   GET    |                                                              | {<br/>	"code": 200,<br/>	"data": [<br/>		{<br/>			"end_time": "2024.4.19",<br/>			"id": 1,<br/>			"image_list": [],<br/>			"product_introduce": "",<br/>			"product_name": "",<br/>			"publish_by": {},<br/>			"skin_list": [],<br/>			"start_time": "2024.3.19",			"status": 1,<br/>			"tag_list": [],<br/>			"tests": [],<br/>					"product_id": 1,<br/>					"publish_time": "Wed, 30 Oct 2024 10:59:46 GMT",<br/>					"score": 5,<br/>					"skin_type": "干性皮",<br/>					"tag": "丝滑",<br/>					"user_id": 1<br/>				},<br/>				{<br/>					"feeling": "feeling3",<br/>					"id": 3,<br/>					"image_list": [<br/>						"/image/1/蜂花护发素.jpg"<br/>					],<br/>					"product_id": 1,<br/>					"publish_time": "Wed, 30 Oct 2024 10:59:46 GMT",<br/>					"score": 4,<br/>					"skin_type": "干性皮",<br/>					"tag": "滋润",<br/>					"user_id": 1<br/>				}<br/>			],<br/>			"type": "makeUp",<br/>			"user_id": 1<br/>		}],<br/>	"msg": "产品获取成功",<br/>	"status": "success"<br/>} |
|      搜索产品名称      |          /product/search/<name>          |   GET    |                                                              | {<br/>	"code": 200,<br/>	"data": [<br/>		{<br/>			"end_time": "2024.4.19",<br/>			"id": 1,<br/>			"image_list": [],<br/>			"product_introduce": "",<br/>			"product_name": "",<br/>			"publish_by": {},<br/>			"skin_list": [],<br/>			"start_time": "2024.3.19",			"status": 1,<br/>			"tag_list": [],<br/>			"tests": [],<br/>					"product_id": 1,<br/>					"publish_time": "Wed, 30 Oct 2024 10:59:46 GMT",<br/>					"score": 5,<br/>					"skin_type": "干性皮",<br/>					"tag": "丝滑",<br/>					"user_id": 1<br/>				},<br/>				{<br/>					"feeling": "feeling3",<br/>					"id": 3,<br/>					"image_list": [<br/>						"/image/1/蜂花护发素.jpg"<br/>					],<br/>					"product_id": 1,<br/>					"publish_time": "Wed, 30 Oct 2024 10:59:46 GMT",<br/>					"score": 4,<br/>					"skin_type": "干性皮",<br/>					"tag": "滋润",<br/>					"user_id": 1<br/>				}<br/>			],<br/>			"type": "makeUp",<br/>			"user_id": 1<br/>		}],<br/>	"msg": "产品获取成功",<br/>	"status": "success"<br/>} |
|       生成二维码       |          /generate_qr/<int:id>           |   GET    |                                                              |                       png的二维码图片                        |
|     根据id查询产品     |     /product/productDetail/<int:id>      |   GET    |                                                              | {<br/>	"code": 200,<br/>	"count": 14,<br/>	"data": {<br/>		"end_time": "2024.4.19",<br/>		"id": 1,<br/>		"image_list": [],<br/>		"product_introduce": "",<br/>		"product_name": "卡姿兰唇釉",<br/>		"publish_by": {<br/>			"avatar": "/image/default_avatar.png",<br/>			"id": 1,<br/>			"permissions": 0,<br/>			"phone": "15715815825",<br/>			"username": "美妆新秀"<br/>		},<br/>		"skin_list": [],<br/>		"skin_score_dic": {<br/>			"干性皮": 14<br/>		},<br/>		"start_time": "2024.3.19",<br/>		"status": 1,<br/>		"tag_dic": {<br/>			"丝滑": 2,<br/>			"滋润": 1<br/>		},<br/>		"tests": [<br/>			{<br/>				"feeling": "feeling",<br/>				"id": 1,<br/>				"image_list": [<br/>					"/image/1/蜂花护发素.jpg"<br/>				],<br/>				"product_id": 1,<br/>				"publish_time": "Wed, 30 Oct 2024 10:59:46 GMT",<br/>				"score": 5,<br/>				"skin_type": "干性皮",<br/>				"tag": "丝滑",<br/>				"user_id": 1<br/>			},<br/>			{<br/>				"feeling": "feeling2",<br/>				"id": 2,<br/>				"image_list": [<br/>					"/image/1/蜂花护发素.jpg"<br/>				],<br/>				"product_id": 1,<br/>				"publish_time": "Wed, 30 Oct 2024 10:59:46 GMT",<br/>				"score": 5,<br/>				"skin_type": "干性皮",<br/>				"tag": "丝滑",<br/>				"user_id": 1<br/>			},<br/>			{<br/>				"feeling": "feeling3",<br/>				"id": 3,<br/>				"image_list": [<br/>					"/image/1/蜂花护发素.jpg"<br/>				],<br/>				"product_id": 1,<br/>				"publish_time": "Wed, 30 Oct 2024 10:59:46 GMT",<br/>				"score": 4,<br/>				"skin_type": "干性皮",<br/>				"tag": "滋润",<br/>				"user_id": 1<br/>			}<br/>		],<br/>		"type": "makeUp",<br/>		"user_id": 1<br/>	},<br/>	"msg": "产品获取成功",<br/>	"status": "success"<br/>} |
|     创建被测评产品     |             /product/create              |   POST   | type，product_name，start_time，end_time，product_introduce，files，skin_type | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "新建测评成功",<br/>	"status": "success"<br/>} |
|   查询所有未审核产品   |         /product/notAuditProduct         |   GET    |                    请求头中需要携带token                     | {<br/>	"code": 200,<br/>	"count": 0,<br/>	"data": [],<br/>	"msg": "产品获取成功",<br/>	"status": "success"<br/>} |
|        审核产品        |           /product/examProduct           | POST/PUT |           请求头中需要携带token,product_id,status            | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "修改产品状态成功",<br/>	"status": "success"<br/>} |
|  获取由自己审核的产品  |       /product/auditProductBySelf        |   GET    |                    请求头中需要携带token                     | {<br/>	"code": 200,<br/>	"count": 7,<br/>	"data": [],<br/>	"msg": "产品获取成功",<br/>	"status": "success"<br/>} |
|   获取自己发布的测评   |         /test/getPublishedBySelf         |   GET    |                    请求头中需要携带token                     | {<br/>	"code": 200,<br/>	"count": 7,<br/>	"data": [],<br/>	"msg": "产品获取成功",<br/>	"status": "success"<br/>} |
|   获取自己加入的测评   |          /test/getJoinedBySelf           |   GET    |                    请求头中需要携带token                     | {<br/>	"code": 200,<br/>	"count": 0,<br/>	"data": [],<br/>	"msg": "产品获取成功",<br/>	"status": "success"<br/>} |
|        加入测评        |             /test/joinedTest             | POST/PUT |               请求头中需要携带token,product_id               | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "加入测评成功",<br/>	"status": "success"<br/>} |
|        提交测评        |              /test/addTest               | POST/PUT | 请求头中需要携带token,product_id,skin_type,tag,score,feeling,files | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "提交测评成功",<br/>	"status": "success"<br/>} |
|        添加评论        |             /test/addComment             | POST/PUT | 请求头中需要携带token，product_id,comment_text和files中选填其中一个 | {<br/>	"code": 200,<br/>	"data": null,<br/>	"msg": "评论成功",<br/>	"status": "success"<br/>} |
|      查看图片接口      |        /image/<path:avatar_file>         |   GET    |                                                              |                                                              |
|     查看图片接口2      | /image/<path:user_id>/<path:avatar_file> |   GET    |                                                              |                                                              |

